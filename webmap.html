
<!DOCTYPE html>
<html>
<head>
  <title>Vägkarta med slitlager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Rekommenderade vägar för tyngre transporter, höjdhinder, fartkameror. Baserad på Lantmäteriets Vägkarta.">
  <meta charset="utf-8" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" ></script>
  <style type="text/css">
    body {
       margin: 0;
       padding: 0;
    }
    html, body, #map{
       width: 100%;
       height: 100%;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>

      var slitlagerkarta = L.tileLayer('https://filedn.eu/lBi7OlMJML8z9XgfydjnDsm/slitlagerkarta/{z}/{x}/{y}.jpg', {
        maxNativeZoom: 14,
        minZoom: 6,
        tms: false,
        attribution: 'jole84.github.io'
      });
      
      var streetmap = L.tileLayer('https://filedn.eu/lBi7OlMJML8z9XgfydjnDsm/slitlagerkarta_nedtonad/{z}/{x}/{y}.jpg', {
        maxNativeZoom: 14,
        minZoom: 6,
        tms: false,
        attribution: 'jole84.github.io'
      });

      var topo = L.tileLayer('https://minkarta.lantmateriet.se/map/topowebbcache/?layer=topowebb&style=default&tilematrixset=3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image/png&TileMatrix={z}&TileCol={x}&TileRow={y}', {
        maxNativeZoom: 17,
        tms: false,
        attribution: 'Lantmäteriet'
      });

      var topowebb_nedtonad = L.tileLayer('https://minkarta.lantmateriet.se/map/topowebbcache/?layer=topowebb_nedtonad&style=default&tilematrixset=3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image/png&TileMatrix={z}&TileCol={x}&TileRow={y}', {
        maxNativeZoom: 17,
        tms: false,
        attribution: 'Lantmäteriet'
      });

      var eniromap = L.tileLayer('http://map.eniro.se/geowebcache/service/tms1.0.0/map/{z}/{x}/{y}.png', {
        tms: true,
        attribution: 'Eniro'
      });

      var enironautical = L.tileLayer('http://map.eniro.se/geowebcache/service/tms1.0.0/nautical/{z}/{x}/{y}.png', {
        tms: true,
        attribution: 'Eniro'
      });

      var hitta_friluft = L.tileLayer('https://static.hitta.se/tile/v3/4/{z}/{x}/{y}', {
        tms: true,
        attribution: 'hitta.se'
      });

      var hitta_karta = L.tileLayer('https://static.hitta.se/tile/v3/0/{z}/{x}/{y}', {
        tms: true,
        attribution: 'hitta.se'
      });

      var openstreetmap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        tms: false,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      });

      var opentopomap = L.tileLayer('https://opentopomap.org/{z}/{x}/{y}.png', {
        tms: false,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      });

      var flyg_60 = L.tileLayer.wms('https://minkarta.lantmateriet.se/map/historiskaortofoto/service?', {
      layers: 'OI.Histortho_60'
      });

      var flyg_75 = L.tileLayer.wms('https://minkarta.lantmateriet.se/map/historiskaortofoto/service?', {
      layers: 'OI.Histortho_75'
      });

      var terrangskuggning = L.tileLayer.wms('https://minkarta.lantmateriet.se/map/hojdmodell/SERVICE?', {
      layers: 'terrangskuggning',
      transparent: false,
      opacity: 0.5
      });

      var grans = L.tileLayer.wms('https://minkarta.lantmateriet.se/map/fastighetsindelning/SERVICE?', {
      layers: 'granser,text,fiske',
      transparent: true,
      opacity: 1,
      format: 'image/png',
      style: 'registerkarta,registerkarta',
      });

      var trafikplatsnummer = L.tileLayer.wms('https://geo-netinfo.trafikverket.se/MapService/wms.axd/NetInfoRoad_1_2?', {
      layers: 'Trafikplatsnummer',
      transparent: true,
      format: 'image/png',
      });

      var nvdb_slitlager = L.tileLayer.wms('https://geo-netinfo.trafikverket.se/MapService/wms.axd/NetInfo_1_4?', {
      layers: 'Slitlager',
      transparent: true,
      format: 'image/png',
      });

      var ATK_Matplats = L.tileLayer.wms('https://geo-netinfo.trafikverket.se/MapService/wms.axd/NetInfo_1_4?', {
      layers: 'ATK_Matplats,Rastplats',
      transparent: true,
      format: 'image/png',
      });

      var ortofoto = L.tileLayer.wms('https://minkarta.lantmateriet.se/map/ortofoto/SERVICE?', {
      layers: 'Ortofoto_0.16',
      });

      var smhi_radar = L.tileLayer.wms('https://wts1.smhi.se/tile/?', {
      layers: 'baltrad:radarcomp-lightning_scandinavia_wpt',
      format: 'image/png',
      crs: L.CRS.EPSG900913,
      transparent: true,
      });

      var smhi_temp = L.tileLayer.wms('https://wts1.smhi.se/tile/?', {
      layers: 'pmpfrekvent:temperature-2m_n-europe_rainbow_',
      format: 'image/png',
      crs: L.CRS.EPSG900913,
      transparent: true,
      opacity: 0.5,
      maxNativeZoom: 10,
      });

      var smhi_vind = L.tileLayer.wms('https://wts1.smhi.se/tile/?', {
      layers: 'pmp25_vind_lufttryck__havochkust-gradient',
      format: 'image/png',
      crs: L.CRS.EPSG900913,
      transparent: true,
      });

      var eniro_hybrid = L.tileLayer('https://map01.eniro.no/geowebcache/service/tms1.0.0/hybrid/{z}/{x}/{y}.png', {
        tms: true,
        transparent: false,
        attribution: 'Eniro'
      });

      var map = L.map('map', {
        center: [57.78564196397448, 14.215799665093242],
        zoom: 10,
        layers: [slitlagerkarta]
      });
      
      var baseLayers = {
        'Slitlagerkarta': slitlagerkarta,
        'Vägkarta': streetmap,
        'Lantmäteriet Topo' : topo,
        'Topo Nedtonad' : topowebb_nedtonad,
        'Lantmäteriet Orto' : ortofoto,
        'Flygfoto 1960':flyg_60,
        'Flygfoto 1975':flyg_75,
        'Eniro Karta': eniromap,
        'Eniro Sjökort': enironautical,
        'Hitta Karta' : hitta_karta,
        'Hitta Friluft' : hitta_friluft,
        'OpenStreetMap' : openstreetmap,
        'OpenTopoMap' : opentopomap,
      };
      
      var overlayMaps = {
        'Eniro hybrid' : eniro_hybrid,
        'Terrängskuggning' : terrangskuggning,
        'Gränser' : grans,
        'Fartkamera/Rastplats' : ATK_Matplats,
        'Trafikplatsnummer' : trafikplatsnummer,
        'NVDB slitlager' : nvdb_slitlager,
        'SMHI nederbörd' : smhi_radar,
        'SMHI temp' : smhi_temp,
        'SMHI vind' : smhi_vind,
      };


      var layerControl = L.control.layers(baseLayers,overlayMaps,{collapsed:true}).addTo(map);

      map.on('contextmenu',(e) => {
        var streetviewlink = "<a href=\"http://maps.google.com/maps?q=&layer=c&cbll=" + e.latlng.lat.toString() + "," + e.latlng.lng.toString() + "\" target=\"_blank\">Streetview</a>"
        var gmaplink = "<a href=\"http://maps.google.com/maps?q=" + e.latlng.lat.toString() + "," + e.latlng.lng.toString() + "\" target=\"_blank\">Gmap</a>"
        L.popup()
        .setLatLng(e.latlng)
        .setContent(streetviewlink + " " + gmaplink)
        .addTo(map)
        .openOn(map);
      });

      var scale = L.control.scale({metric:true, imperial:false}).addTo(map);


      </script>
</body>
</html>
