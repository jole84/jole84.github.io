
<!DOCTYPE html>
<html>
<head>
  <title>Vägkarta med slitlager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Rekommenderade vägar för tyngre transporter, höjdhinder, fartkameror. Baserad på Lantmäteriets Vägkarta.">
  <meta charset="utf-8" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" ></script>
  <style type="text/css">
    body {
       margin: 0;
       padding: 0;
    }
    html, body, #map{
       width: 100%;
       height: 100%;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      // ip address to map server
      
      var slitlagerkarta = L.tileLayer('https://filedn.eu/lBi7OlMJML8z9XgfydjnDsm/slitlagerkarta/{z}/{x}/{y}.jpg', {
        maxNativeZoom: 14,
        minZoom: 6,
        tms: false,
        attribution: 'jole84.github.io'
      });
      
      var streetmap = L.tileLayer('https://filedn.eu/lBi7OlMJML8z9XgfydjnDsm/slitlagerkarta_nedtonad/{z}/{x}/{y}.jpg', {
        maxNativeZoom: 14,
        minZoom: 6,
        tms: false,
        attribution: 'jole84.github.io'
      });

      var topo = L.tileLayer('https://minkarta.lantmateriet.se/map/topowebbcache/?layer=topowebb&style=default&tilematrixset=3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image/png&TileMatrix={z}&TileCol={x}&TileRow={y}', {
        maxNativeZoom: 17,
        tms: false,
        attribution: 'Lantmäteriet'
      });

      var eniroaerial = L.tileLayer('http://map.eniro.se/geowebcache/service/tms1.0.0/aerial/{z}/{x}/{y}.jpeg', {
        tms: true,
        attribution: 'Eniro'
      });

      var eniromap = L.tileLayer('http://map.eniro.se/geowebcache/service/tms1.0.0/map/{z}/{x}/{y}.png', {
        tms: true,
        attribution: 'Eniro'
      });

      var enironautical = L.tileLayer('http://map.eniro.se/geowebcache/service/tms1.0.0/nautical/{z}/{x}/{y}.png', {
        tms: true,
        attribution: 'Eniro'
      });

      var enirohistorical = L.tileLayer('https://map01.eniro.no/geowebcache/service/tms1.0.0/se_aerial_1950_60s/{z}/{x}/{y}.jpeg', {
        tms: true,
        attribution: 'Eniro'
      });

      var openstreetmap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        tms: false,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      });

      var opentopomap = L.tileLayer('https://opentopomap.org/{z}/{x}/{y}.png', {
        tms: false,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      });

      var map = L.map('map', {
        center: [57.78564196397448, 14.215799665093242],
        zoom: 10,
        layers: [slitlagerkarta]
      });
      
      var baseLayers = {
        'Slitlagerkarta': slitlagerkarta,
        'Vägkarta': streetmap,
        'Lantmäteriet Topo' : topo,
        'Eniro Karta': eniromap,
        'Eniro Flygfoto': eniroaerial,
        'Eniro Historisk': enirohistorical,
        'Eniro Sjökort': enironautical,
        'OpenStreetMap' : openstreetmap,
        'OpenTopoMap' : opentopomap,
      };
      var layerControl = L.control.layers(baseLayers,null,{collapsed:true}).addTo(map);

      map.on('contextmenu',(e) => {
        var streetviewlink = "<a href=\"http://maps.google.com/maps?q=&layer=c&cbll=" + e.latlng.lat.toString() + "," + e.latlng.lng.toString() + "\" target=\"_blank\">Streetview</a>"
        var gmaplink = "<a href=\"http://maps.google.com/maps?q=" + e.latlng.lat.toString() + "," + e.latlng.lng.toString() + "\" target=\"_blank\">Gmap</a>"
        L.popup()
        .setLatLng(e.latlng)
        .setContent(streetviewlink + " " + gmaplink)
        .addTo(map)
        .openOn(map);
      });

      var scale = L.control.scale({metric:true, imperial:false}).addTo(map);

      </script>
</body>
</html>
