<!DOCTYPE html>
<html>
<head>
    <title>Ungefärtid</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="theme-color" content="#000000">
    <style>
        body {
            background-color: black;
        }
        .text {
            font-size: 5vw;
            text-align: center;
            color: yellow;
            font-family: arial;
            margin: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            -ms-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
        }
    </style>
</head>

<body>
    <div class="text">
            <div id="fuzzyText"></div>
            <div id="klockan"></div>
    </div>


    <script>

        function get12Hour(hour) {
            if (hour >= 13) {
                return hour - 12;
            } else {
                return hour;
            }
        } 
            
        function fuzzy() {
            timmar = [
                "tolv", 
                "ett",
                "två",
                "tre",
                "fyra",
                "fem",
                "sex",
                "sju",
                "åtta",
                "nio",
                "tio",
                "elva",
                "tolv",
                "ett"
            ]
            
            minuter = {
                0:"",
                5:" fem över",
                10:" tio över",
                15:" kvart över",
                20:" tjugo över",
                25:" fem i halv",
                30:" halv",
                35:" fem över halv",
                40:" tjugo i",
                45:" kvart i",
                50:" tio i",
                55:" fem i",
                60:"",
            }

            const nuTid = new Date();
            let timme = get12Hour(nuTid.getHours());
            const minut = nuTid.getMinutes();
            const avrundadMinut = Math.floor(minut / 5) * 5;
            
            if (avrundadMinut >= 25) {
                timme += 1;
            }

            const texten = "Klockan är ungefär <br>" + minuter[avrundadMinut] + " " + timmar[timme];
            document.getElementById("fuzzyText").innerHTML = texten;
        }

        setInterval(fuzzy, 1000);


    </script>

</body>
</html>
